<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content><title>åˆ›å»ºå‹-å•ä¾‹æ¨¡å¼ | å†·æš–è‡ªçŸ¥</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.4.5"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/8.0.1/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/3.3.1/jquery.min.js"></script><link rel="icon" mask sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">åˆ›å»ºå‹-å•ä¾‹æ¨¡å¼</h1><a id="logo" href="/.">å†·æš–è‡ªçŸ¥</a><p class="description">ä¸»åŠ¨ä½¿ä½ æŒæ§,è¢«åŠ¨ä½¿ä½ æ²‰è¿·</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> é¦–é¡µ</i></a><a href="/archives/"><i class="fa fa-archive"> å½’æ¡£</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">åˆ›å»ºå‹-å•ä¾‹æ¨¡å¼</h1><div class="post-meta">Jan 21, 2019<span> | </span><span class="category"><a href="/categories/è®¾è®¡æ¨¡å¼/">è®¾è®¡æ¨¡å¼</a></span><script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> é˜…è¯»</span></span><span class="post-time"><span class="post-meta-item-text"> | </span><span class="post-meta-item-icon"><i class="fa fa-keyboard-o"></i><span class="post-count"> 1.1k</span><span class="post-meta-item-text"> å­—</span></span></span><span class="post-time"> | <span class="post-meta-item-icon"><i class="fa fa-hourglass-half"></i><span class="post-count"> 4</span><span class="post-meta-item-text"> åˆ†é’Ÿ</span></span></span></div><div class="clear"><div class="toc-article" id="toc"><div class="toc-title">æ–‡ç« ç›®å½•</div><ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#ç‰¹ç‚¹"><span class="toc-number">1.</span> <span class="toc-text">ç‰¹ç‚¹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Context"><span class="toc-number">2.</span> <span class="toc-text">Context</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#å†™æ³•åŒºåˆ†"><span class="toc-number">3.</span> <span class="toc-text">å†™æ³•åŒºåˆ†</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#æ‡’æ±‰æ¨¡å¼"><span class="toc-number">3.1.</span> <span class="toc-text">æ‡’æ±‰æ¨¡å¼</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Double-Check-Lock"><span class="toc-number">3.2.</span> <span class="toc-text">Double Check  Lock</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#é™æ€å†…éƒ¨ç±»å•ä¾‹æ¨¡å¼"><span class="toc-number">3.3.</span> <span class="toc-text">é™æ€å†…éƒ¨ç±»å•ä¾‹æ¨¡å¼</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#æšä¸¾å•ä¾‹"><span class="toc-number">3.4.</span> <span class="toc-text">æšä¸¾å•ä¾‹</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#å°ç»“"><span class="toc-number">4.</span> <span class="toc-text">å°ç»“</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#æ‡’æ±‰"><span class="toc-number">4.1.</span> <span class="toc-text">æ‡’æ±‰</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#DCL"><span class="toc-number">4.2.</span> <span class="toc-text">DCL</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#é™æ€å†…éƒ¨ç±»"><span class="toc-number">4.3.</span> <span class="toc-text">é™æ€å†…éƒ¨ç±»</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#æ ¸å¿ƒ"><span class="toc-number">5.</span> <span class="toc-text">æ ¸å¿ƒ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#é—®é¢˜ç‚¹"><span class="toc-number">6.</span> <span class="toc-text">é—®é¢˜ç‚¹</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#ååºåˆ—åŒ–"><span class="toc-number">6.1.</span> <span class="toc-text">ååºåˆ—åŒ–</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#æœç»å•ä¾‹è¢«ååºåˆ—åŒ–"><span class="toc-number">6.2.</span> <span class="toc-text">æœç»å•ä¾‹è¢«ååºåˆ—åŒ–</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#æ‹“å±•"><span class="toc-number">7.</span> <span class="toc-text">æ‹“å±•</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#åºåˆ—åŒ–-ï¼ˆSerializationï¼‰"><span class="toc-number">7.1.</span> <span class="toc-text">åºåˆ—åŒ– ï¼ˆSerializationï¼‰</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#ååºåˆ—åŒ–-1"><span class="toc-number">7.2.</span> <span class="toc-text">ååºåˆ—åŒ–</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#æ¨¡å¼ç¼ºç‚¹"><span class="toc-number">8.</span> <span class="toc-text">æ¨¡å¼ç¼ºç‚¹</span></a></li></ol></div></div><div class="post-content"><hr>
<h4 id="ç‰¹ç‚¹"><a href="#ç‰¹ç‚¹" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h4><ul>
<li>æ„é€ å‡½æ•°ä¸å¯¹å¤–å¼€æ”¾ï¼Œä¸€èˆ¬ä¸ºprivate</li>
<li>é€šè¿‡ä¸€ä¸ªé™æ€æ–¹æ³•æˆ–è€…æšä¸¾ç±»å‹è¿”å›å•ä¾‹ç±»å¯¹è±¡</li>
<li>ç¡®ä¿å•ä¾‹å¯¹è±¡æœ‰ä¸”åªæœ‰ä¸€ä¸ªï¼Œå°¤å…¶æ˜¯å¤šçº¿ç¨‹æƒ…å†µä¸‹</li>
<li>ååºåˆ—åŒ–æ—¶å€™ä¸ä¼šé‡æ–°æ„å»ºå¯¹è±¡</li>
<li>æ³¨æ„ä½¿ç”¨ <code>volatile</code>è¿™ä¸ªå…³é”®å­—,å¦åˆ™åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹(æ‡’æ±‰æ¨¡å¼ä»¥åŠDCLæ¨¡å¼)æœ‰å¯èƒ½ä¼šå‡ºç°é—®é¢˜</li>
</ul>
<hr>
<h4 id="Context"><a href="#Context" class="headerlink" title="Context"></a>Context</h4><ul>
<li>Applicationã€Activityä»¥åŠServiceä¸­éƒ½å­˜åœ¨Contextå¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯æ€»ä¸ªæ•°ä¸ºActivityä¸ªæ•°+Serviceä¸ªæ•°+1</li>
<li>Activityçš„å…¥å£æ˜¯ActivityThreadçš„mainå‡½æ•°ï¼Œåœ¨è¯¥å‡½æ•°ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„ActiivtyThreadå¯¹è±¡å¹¶ä¸”å¯åŠ¨æ¶ˆæ¯å¾ªç¯ï¼ˆUIçº¿ç¨‹ï¼‰ã€åˆ›å»ºæ–°çš„Activityã€æ–°çš„Contextå¯¹è±¡ã€‚è€Œåï¼Œå°†Contextå¯¹è±¡ä¼ é€’ç»™Activity</li>
</ul>
<pre class="mermaid">%% æ—¶åºå›¾ä¾‹å­,-> ç›´çº¿ï¼Œ-->è™šçº¿ï¼Œ->>å®çº¿ç®­å¤´
  sequenceDiagram
    participant ActivityThread
    ActivityThread->>ActivityThread: â‘ main
    ActivityThread->>ActivityThread: â‘¡attch
    ActivityThread->>ActivityThread: â‘¢mgr.attchApplication
    Note left of ActivityThread: ç”±æ­¤å…³è”åˆ°mAppThread</pre>

<hr>
<h4 id="å†™æ³•åŒºåˆ†"><a href="#å†™æ³•åŒºåˆ†" class="headerlink" title="å†™æ³•åŒºåˆ†"></a>å†™æ³•åŒºåˆ†</h4><h5 id="æ‡’æ±‰æ¨¡å¼"><a href="#æ‡’æ±‰æ¨¡å¼" class="headerlink" title="æ‡’æ±‰æ¨¡å¼"></a>æ‡’æ±‰æ¨¡å¼</h5><p>ç±»åŠ è½½æœŸé—´ï¼Œå°±å·²ç»å°†<code>instance</code>é™æ€å®ä¾‹åˆå§‹å¥½äº†ï¼Œæ‰€ä»¥<code>instance</code>å®ä¾‹çš„åˆ›å»ºæ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚ä½†æ˜¯ï¼Œè¿™ç§å®ç°æ–¹å¼ä¸æ”¯æŒå»¶æ—¶åŠ è½½å®ä¾‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">volatile</span> Singleton instance;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Singleton</span><span class="params">()</span></span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">   </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">synchronized</span> Singleton <span class="title">getInstance</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">null</span> == instance)&#123;</span><br><span class="line">            instance = <span class="keyword">new</span> Singleton();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="Double-Check-Lock"><a href="#Double-Check-Lock" class="headerlink" title="Double Check  Lock"></a>Double Check  Lock</h5><p>æ—¢æ”¯æŒå»¶æ—¶åŠ è½½ã€åˆæ”¯æŒé«˜å¹¶å‘çš„å•ä¾‹å®ç°æ–¹å¼ã€‚åªè¦<code>instance</code>è¢«åˆ›å»ºä¹‹åï¼Œå†è°ƒç”¨ <code>getInstance()</code> å‡½æ•°éƒ½ä¸ä¼šè¿›å…¥åˆ°åŠ é”é€»è¾‘ä¸­ã€‚æ‰€ä»¥ï¼Œè¿™ç§å®ç°æ–¹å¼è§£å†³äº†æ‡’æ±‰å¼å¹¶å‘åº¦ä½çš„é—®é¢˜</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">volatile</span> Singleton instance = <span class="keyword">null</span>; <span class="comment">//ç¡®ä¿æ¯æ¬¡ä»ä¸»å†…å­˜è¯»å–</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Singleton</span><span class="params">()</span></span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span>  Singleton <span class="title">getInstance</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">null</span> == instance)&#123;</span><br><span class="line">            <span class="keyword">synchronized</span>(Singleton<span class="class">.<span class="keyword">class</span>)</span>&#123;</span><br><span class="line">                <span class="keyword">if</span> (<span class="keyword">null</span> == instance)&#123;</span><br><span class="line">                     instance = <span class="keyword">new</span> Singleton();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="é™æ€å†…éƒ¨ç±»å•ä¾‹æ¨¡å¼"><a href="#é™æ€å†…éƒ¨ç±»å•ä¾‹æ¨¡å¼" class="headerlink" title="é™æ€å†…éƒ¨ç±»å•ä¾‹æ¨¡å¼"></a>é™æ€å†…éƒ¨ç±»å•ä¾‹æ¨¡å¼</h5><p>åˆ©ç”¨Javaçš„é™æ€å†…éƒ¨ç±»å®ç°çš„å•ä¾‹ï¼Œæ—¢æ”¯æŒå»¶è¿ŸåŠ è½½ä¹Ÿæ”¯æŒé«˜å¹¶å‘ï¼Œå®ç°ä¹Ÿæ¯”åŒé‡æ£€æµ‹ç®€å•</p>
<ul>
<li>æ¨èä½¿ç”¨</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Singleton</span><span class="params">()</span></span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span>  Singleton <span class="title">getInstance</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> SingletonHolder.sIntance;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">SingletonHolder</span></span>&#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Singleton sIntance = <span class="keyword">new</span> Singleton();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="æšä¸¾å•ä¾‹"><a href="#æšä¸¾å•ä¾‹" class="headerlink" title="æšä¸¾å•ä¾‹"></a>æšä¸¾å•ä¾‹</h5><p>æœ€ç®€å•çš„å®ç°ï¼Œé€šè¿‡Javaæšä¸¾ç±»å‹æœ¬èº«çš„ç‰¹æ€§ï¼Œä¿è¯äº†å®ä¾‹åˆ›å»ºçš„çº¿ç¨‹å®‰å…¨å’Œå®ä¾‹çš„å”¯ä¸€æ€§</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> SingletonEnum&#123;</span><br><span class="line">    INSTANCE;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h4><h5 id="æ‡’æ±‰"><a href="#æ‡’æ±‰" class="headerlink" title="æ‡’æ±‰"></a>æ‡’æ±‰</h5><ul>
<li>ä¼˜åŠ¿ï¼š åªæœ‰åœ¨ä½¿ç”¨çš„æ—¶å€™æ‰ä¼šå®ä¾‹åŒ–ï¼Œä¸€å®šç¨‹åº¦ä¸ŠèŠ‚çº¦äº†èµ„æº</li>
<li>ç¼ºç‚¹ï¼š ç¬¬ä¸€æ¬¡åŠ è½½çš„æ—¶å€™éœ€è¦åŠæ—¶å®ä¾‹åŒ–ï¼Œååº”ç¨æ…¢ã€‚æ¯æ¬¡è°ƒç”¨getInstanceçš„æ—¶å€™ä¼šè¿›è¡ŒåŒæ­¥ï¼Œé€ æˆä¸å¿…è¦çš„å¼€é”€ã€‚ä¸€èˆ¬ä¸å»ºè®®ä½¿ç”¨</li>
</ul>
<h5 id="DCL"><a href="#DCL" class="headerlink" title="DCL"></a>DCL</h5><ul>
<li>ä¼˜ç‚¹ï¼š è§£å†³äº†èµ„æºæ¶ˆè€—ã€å¤šä½™çš„åŒæ­¥ã€çº¿ç¨‹å®‰å…¨ç­‰é—®é¢˜</li>
<li>ç¼ºç‚¹ï¼šä¼šåœ¨æŸäº›æƒ…å†µä¸‹å¤±æ•ˆ ğŸ˜‚<strong>åŒé‡æ£€æŸ¥å¤±æ•ˆ</strong>ï¼Œå› æ­¤ä¸èµæˆä½¿ç”¨</li>
</ul>
<h5 id="é™æ€å†…éƒ¨ç±»"><a href="#é™æ€å†…éƒ¨ç±»" class="headerlink" title="é™æ€å†…éƒ¨ç±»"></a>é™æ€å†…éƒ¨ç±»</h5><ul>
<li>ä¼˜ç‚¹:  <ul>
<li>ç¬¬ä¸€æ¬¡åŠ è½½classæ—¶å€™ä¸ä¼šåˆå§‹åŒ–sInstanceï¼Œåªæœ‰ç¬¬ä¸€æ¬¡è°ƒç”¨getInstanceæ‰ä¼šå¯¼è‡´åˆå§‹åŒ–</li>
<li>ç¡®ä¿çº¿ç¨‹å®‰å…¨ï¼Œç¡®ä¿å•ä¾‹å¯¹è±¡çš„å”¯ä¸€æ€§ï¼Œä¹Ÿå»¶è¿Ÿäº†å•ä¾‹çš„å®ä¾‹åŒ–</li>
</ul>
</li>
</ul>
<h4 id="æ ¸å¿ƒ"><a href="#æ ¸å¿ƒ" class="headerlink" title="æ ¸å¿ƒ"></a>æ ¸å¿ƒ</h4><ul>
<li>å°†æ„é€ å‡½æ•°ç§æœ‰åŒ–ï¼Œé€šè¿‡é™æ€æ–¹æ³•è·å–å”¯ä¸€å®ä¾‹ï¼Œè·å–è¿‡ç¨‹ä¸­ç¡®ä¿çº¿ç¨‹å®‰å…¨ã€é˜²æ­¢ååºåˆ—åŒ–å¯¼è‡´é‡æ–°ç”Ÿæˆå®ä¾‹å¯¹è±¡ç­‰é—®é¢˜</li>
</ul>
<h4 id="é—®é¢˜ç‚¹"><a href="#é—®é¢˜ç‚¹" class="headerlink" title="é—®é¢˜ç‚¹"></a>é—®é¢˜ç‚¹</h4><h5 id="ååºåˆ—åŒ–"><a href="#ååºåˆ—åŒ–" class="headerlink" title="ååºåˆ—åŒ–"></a>ååºåˆ—åŒ–</h5><ul>
<li><p>ååºåˆ—åŒ–ä¼šå‡ºç°é‡æ–°åˆ›å»ºå¯¹è±¡çš„æƒ…å†µã€‚</p>
</li>
<li><p>é€šè¿‡åºåˆ—åŒ–å¯ä»¥å°†å•ä¾‹å¯¹è±¡å†™å…¥åˆ°ç£ç›˜ï¼Œä»è€Œæœ‰æ•ˆåœ°è·å–ä¸€ä¸ªå®ä¾‹ï¼ŒåŠæ—¶æ„é€ æ–¹æ³•æ˜¯ç§æœ‰çš„ï¼Œä½†æ˜¯å¹¶ä¸èƒ½å½±å“ååºåˆ—åŒ–é€šè¿‡ç‰¹æ®Šé€”å¾„è°ƒç”¨è¯¥ç±»çš„æ„é€ æ–¹æ³•ã€‚</p>
</li>
<li><p>æ‰€è°“ç‰¹æ®Šé€”å¾„</p>
<ul>
<li>readResolve()</li>
<li>è¯¥æ–¹æ³•ä¸­ ï¼Œå°†sInstanceå¯¹è±¡è¿”å›ï¼Œè€Œä¸æ˜¯é»˜è®¤é‡æ–°ç”Ÿæˆä¸€ä¸ªæ–°çš„å¯¹è±¡ã€‚å½“ç„¶ï¼Œæšä¸¾å¹¶ä¸å­˜åœ¨</li>
</ul>
</li>
</ul>
<h5 id="æœç»å•ä¾‹è¢«ååºåˆ—åŒ–"><a href="#æœç»å•ä¾‹è¢«ååºåˆ—åŒ–" class="headerlink" title="æœç»å•ä¾‹è¢«ååºåˆ—åŒ–"></a>æœç»å•ä¾‹è¢«ååºåˆ—åŒ–</h5><ul>
<li><p>åŠ å…¥å¦‚ä¸‹æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> Object <span class="title">readResolve</span><span class="params">()</span> <span class="keyword">throws</span> ObjectStreamException</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> sInstance;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<hr>
<h4 id="æ‹“å±•"><a href="#æ‹“å±•" class="headerlink" title="æ‹“å±•"></a>æ‹“å±•</h4><ul>
<li>å°†å•ä¾‹çš„å®ä¾‹å¯¹è±¡å†™è¿›ç£ç›˜ï¼Œç„¶åå†è¯»å›æ¥ï¼Œä»è€Œæœ‰æ•ˆçš„è·å¾—ä¸€ä¸ªå®ä¾‹</li>
</ul>
<h5 id="åºåˆ—åŒ–-ï¼ˆSerializationï¼‰"><a href="#åºåˆ—åŒ–-ï¼ˆSerializationï¼‰" class="headerlink" title="åºåˆ—åŒ– ï¼ˆSerializationï¼‰"></a>åºåˆ—åŒ– ï¼ˆSerializationï¼‰</h5><ul>
<li>æ¦‚å¿µï¼š<ul>
<li>æŠŠå¯¹è±¡è½¬æ¢ä¸ºå­—èŠ‚åºåˆ—çš„è¿‡ç¨‹</li>
</ul>
</li>
<li>ä½œç”¨ï¼š<ul>
<li>æŠŠå¯¹è±¡çš„å­—èŠ‚åºåˆ—æ°¸ä¹…åœ°ä¿å­˜åˆ°ç¡¬ç›˜ä¸Šï¼Œé€šå¸¸å­˜æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­</li>
<li>åœ¨ç½‘ç»œä¸Šä¼ é€å¯¹è±¡çš„å­—èŠ‚åºåˆ—</li>
</ul>
</li>
</ul>
<h5 id="ååºåˆ—åŒ–-1"><a href="#ååºåˆ—åŒ–-1" class="headerlink" title="ååºåˆ—åŒ–"></a>ååºåˆ—åŒ–</h5><ul>
<li>æ¦‚å¿µï¼š<ul>
<li>æŠŠå­—èŠ‚åºåˆ—æ¢å¤ä¸ºå¯¹è±¡çš„è¿‡ç¨‹</li>
</ul>
</li>
</ul>
<hr>
<h4 id="æ¨¡å¼ç¼ºç‚¹"><a href="#æ¨¡å¼ç¼ºç‚¹" class="headerlink" title="æ¨¡å¼ç¼ºç‚¹"></a>æ¨¡å¼ç¼ºç‚¹</h4><ul>
<li>å•ä¾‹é¢å¯¹OOPç‰¹æ€§çš„æ”¯æŒä¸å¥½ï¼Œè¿èƒŒäº†åŸºäºæ¥å£è€Œéå®ç°çš„åŸåˆ™ï¼Œå¯¹åæœŸçš„æ‹“å±•æœ‰è¾ƒå¤§é™åˆ¶ã€‚ç›¸å½“äºæ”¾å¼ƒäº†ç»§æ‰¿å’Œå¤šæ€ç‰¹æ€§</li>
<li>éšè—äº†ç±»ä¹‹é—´çš„ä¾èµ–å…³ç³»</li>
<li>å¯¹ä»£ç å¯æµ‹è¯•æ€§ä¸å‹å¥½</li>
<li>ä¸æ”¯æŒå¸¦å‚æ•°çš„æ„é€ å‡½æ•°</li>
</ul>
</div><div><ul class="post-copyright"><li class="post-copyright-author"><strong>æœ¬æ–‡ä½œè€…ï¼š</strong>å†·æš–è‡ªçŸ¥</li><li class="post-copyright-link"><strong>æœ¬æ–‡é“¾æ¥ï¼š</strong><a href="/posts/46132/">https://www.wl960127.top/posts/46132/</a></li><li class="post-copyright-license"><strong>ç‰ˆæƒå£°æ˜ï¼š</strong>æœ¬ç«™å†…å®¹å‡ä¸ºä¸ªäººå­¦ä¹ ç¬”è®°,ä¸æ¶‰åŠå•†ä¸šç”¨é€”ï¼Œä»…æä¾›å­¦ä¹ å‚è€ƒ,ç¬¬ä¸‰æ–¹æ‘˜å½•å·²ç½²åé“¾æ¥,æœªç½²åè¯·è¯„è®ºæ·»åŠ ,è½¬è½½ç½²åæ¥æºå³å¯ã€‚</li></ul></div><br><script type="text/javascript" src="/js/share.js?v=1.4.5" async></script><a class="article-share-link" data-url="https://www.wl960127.top/posts/46132/" data-id="ckwarfj7n005e89oinnrfl4vb" data-qrcode="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAK4AAACuCAAAAACKZ2kyAAABzUlEQVR42u3aQY7DMAgF0N7/0hlptp0kHxzTjvS8qlLVee4CAeb1itfxu5Lnx9uq7vnAwsXFXeYel+t96/fPZ096+9wcGBcXd5B7HWiuX98LWGf0m9/i4uJ+Gfcs/CX0PKjh4uL+L+4ZqPCygI6Li/s93KRouYZWS6DttRouLu4Ct9ow3fF5Y38XFxe3yD2KK0lWVsLczdtxcXFHuNctj144W7liicIcLi7uIDcJVb1g9NQbcXFx57nVxmh1tCIPWDdPcHFxN3PXW5ZPJUNRIMPFxR3hRl/H0N74RRI6//iPcXFxR7jJnUX+bXJZUj0wLi7uDLc6ZpEnK70yqdwqxcXFHecmoSrfMznYzQ64uLjj3HyLJNj1Bi9ujoSLizvIzSckq7jeYU7LJFxc3BFub6wqv5pNyqpyMYaLi7uZ20s1quinmrO4uLiT3PWRyio6X7i4uJ/i5iu68Fhuo7yqm+Li4j7KrQaUaqKTXNz2rltwcXF3c3sXq3nrpNpCLQxh4OLibubmwasHzVOZcn8XFxf3o9w8quSJS1IaNQMZLi7uIDdJR8pDV0FZhYuLO8+tJjErrdK8vbLUFsHFxV3grjRMeyNcvSYsLi7uCPcHEnK0e2Pf+/MAAAAASUVORK5CYII=">åˆ†äº«</a><div class="tags"></div><div class="post-nav"><a class="pre" href="/posts/39875/">å¿«é€Ÿä¸‹è½½Androidéƒ¨åˆ†æºç </a><a class="next" href="/posts/22977/">è¡Œä¸ºå‹-å‘½ä»¤æ¨¡å¼</a></div><div id="disqus_thread"><div class="btn_click_load"><button class="disqus_click_btn">é˜…è¯»è¯„è®ºï¼ˆè¯·ç¡®ä¿ Disqus å¯ä»¥æ­£å¸¸åŠ è½½ï¼‰</button></div><script type="text/javascript">var disqus_config = function () {
    this.page.url = 'https://www.wl960127.top/posts/46132/';
    this.page.identifier = 'posts/46132/';
    this.page.title = 'åˆ›å»ºå‹-å•ä¾‹æ¨¡å¼';
  };</script><script type="text/javascript" id="disqus-lazy-load-script">$.ajax({
url: 'https://disqus.com/next/config.json',
timeout: 2500,
type: 'GET',
success: function(){
  var d = document;
  var s = d.createElement('script');
  s.src = '//wuwangdaren.disqus.com/embed.js';
  s.setAttribute('data-timestamp', + new Date());
  (d.head || d.body).appendChild(s);
  $('.disqus_click_btn').css('display', 'none');
},
error: function() {
  $('.disqus_click_btn').css('display', 'block');
}
});</script><script type="text/javascript" id="disqus-click-load">$('.btn_click_load').click(() => {  //click to load comments
    (() => { // DON'T EDIT BELOW THIS LINE
        var d = document;
        var s = d.createElement('script');
        s.src = '//wuwangdaren.disqus.com/embed.js';
        s.setAttribute('data-timestamp', + new Date());
        (d.head || d.body).appendChild(s);
    })();
    $('.disqus_click_btn').css('display','none');
});</script><script type="text/javascript" id="disqus-count-script">$(function() {
     var xhr = new XMLHttpRequest();
     xhr.open('GET', '//disqus.com/next/config.json', true);
     xhr.timeout = 2500;
     xhr.onreadystatechange = function () {
       if (xhr.readyState === 4 && xhr.status === 200) {
         $('.post-meta .post-comments-count').show();
         var s = document.createElement('script');
         s.id = 'dsq-count-scr';
         s.src = 'https://wuwangdaren.disqus.com/count.js';
         s.async = true;
         (document.head || document.body).appendChild(s);
       }
     };
     xhr.ontimeout = function () { xhr.abort(); };
     xhr.send(null);
   });
</script></div><div id="lv-container" data-id="city" data-uid="MTAyMC8zMzgyMC8xMDM3Mw=="><script>(function(d, s) {
   var j, e = d.getElementsByTagName(s)[0];
   if (typeof LivereTower === 'function') { return; }
   j = d.createElement(s);
   j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
   j.async = true;
   e.parentNode.insertBefore(j, e);
})(document, 'script');
</script></div></div></div></div><div class="pure-u-1 pure-u-md-1-4"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"><div id="local-search-result"></div></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> åˆ†ç±»</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a><span class="category-list-count">16</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Androidæºç /">Androidæºç </a><span class="category-list-count">26</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Flutter/">Flutter</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Go/">Go</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Ubuntu/">Ubuntu</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/æŠ€æœ¯æ‚è°ˆ/">æŠ€æœ¯æ‚è°ˆ</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/æ“ä½œç³»ç»Ÿ/">æ“ä½œç³»ç»Ÿ</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/è®¾è®¡æ¨¡å¼/">è®¾è®¡æ¨¡å¼</a><span class="category-list-count">23</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/è¯»ä¹¦ç¬”è®°/">è¯»ä¹¦ç¬”è®°</a><span class="category-list-count">7</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> æ ‡ç­¾</i></div><div class="tagcloud"><a href="/tags/æºç /" style="font-size: 23px; color: #00d6ff">æºç </a> <a href="/tags/å¾…å®Œæˆ/" style="font-size: 19.67px; color: #20b3d2">å¾…å®Œæˆ</a> <a href="/tags/åŠŸèƒ½å®ç°/" style="font-size: 21.33px; color: #10c5e9">åŠŸèƒ½å®ç°</a> <a href="/tags/binder/" style="font-size: 18px; color: #30a2bc">binder</a> <a href="/tags/MQTT/" style="font-size: 14.67px; color: #507f8f">MQTT</a> <a href="/tags/å·¥å…·/" style="font-size: 14.67px; color: #507f8f">å·¥å…·</a> <a href="/tags/FFmpeg/" style="font-size: 16.33px; color: #4091a6">FFmpeg</a> <a href="/tags/Flutter/" style="font-size: 16.33px; color: #4091a6">Flutter</a> <a href="/tags/Hexo/" style="font-size: 13px; color: #606e79">Hexo</a> <a href="/tags/çŸ¥è¯†ç‚¹/" style="font-size: 18px; color: #30a2bc">çŸ¥è¯†ç‚¹</a> <a href="/tags/Jvm/" style="font-size: 16.33px; color: #4091a6">Jvm</a> <a href="/tags/Compose/" style="font-size: 13px; color: #606e79">Compose</a> <a href="/tags/Ubuntu/" style="font-size: 18px; color: #30a2bc">Ubuntu</a> <a href="/tags/WebRTC/" style="font-size: 13px; color: #606e79">WebRTC</a> <a href="/tags/Dart/" style="font-size: 13px; color: #606e79">Dart</a> <a href="/tags/Http/" style="font-size: 13px; color: #606e79">Http</a> <a href="/tags/å¼€æºæ¡†æ¶/" style="font-size: 13px; color: #606e79">å¼€æºæ¡†æ¶</a> <a href="/tags/å†…æ ¸/" style="font-size: 14.67px; color: #507f8f">å†…æ ¸</a> <a href="/tags/æŠ€æœ¯æ‚è°ˆ/" style="font-size: 16.33px; color: #4091a6">æŠ€æœ¯æ‚è°ˆ</a> <a href="/tags/Framework/" style="font-size: 13px; color: #606e79">Framework</a> <a href="/tags/Jni/" style="font-size: 16.33px; color: #4091a6">Jni</a> <a href="/tags/æ˜æœ/" style="font-size: 13px; color: #606e79">æ˜æœ</a> <a href="/tags/ç»„ä»¶åŒ–/" style="font-size: 13px; color: #606e79">ç»„ä»¶åŒ–</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> æœ€è¿‘æ–‡ç« </i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/posts/cbbe54bb/">é”ä¸å¤šçº¿ç¨‹</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/40b4dd29/">2021è¯»ä¹¦è®°å½•</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/2218b608/">IOä¸Socketç®€å•ç¬”è®°</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/69f1c3a4/">Flutterä¸­çš„Widget</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/8d8888c5/">Flutterä¸­çš„Key</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/ab760be3/">Jetpackä¸Composeä½¿ç”¨</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/95b53bcb/">å…³äºå­¦ä¹ çš„ç¬¬äº”ç¯‡-å­¦éœ¸å…»æˆ</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/858effef/">å…³äºå­¦ä¹ çš„ç¬¬å››ç¯‡-æ—¶é—´ç®¡ç†</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/cf03b6bc/">å…³äºå­¦ä¹ çš„ç¬¬ä¸‰ç¯‡-é«˜åº¦è‡ªå¾‹</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/2726a13e/">å…³äºå­¦ä¹ çš„ç¬¬äºŒç¯‡-é«˜æ•ˆå­¦ä¹ </a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> å‹æƒ…é“¾æ¥</i></div><ul></ul><a href="https://qkmin.github.io" title="æŸåº·çš„åšå®¢" target="_blank">æŸåº·çš„åšå®¢</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright Â© 2021 <a href="/." rel="nofollow">å†·æš–è‡ªçŸ¥</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=1.4.5" async></script><script type="text/javascript" id="maid-script" src="https://unpkg.com/mermaid@7.1.2/dist/mermaid.min.js?v=1.4.5"></script><script>if (window.mermaid) {
  var options = JSON.parse(document.getElementById('maid-script').getAttribute('mermaidoptioins'));
  mermaid.initialize(options);
}

</script><script type="text/javascript" src="//lib.baomitu.com/fancybox/3.5.2/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=1.4.5" async></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/3.5.2/jquery.fancybox.min.css"><script type="text/javascript" src="/js/search.js?v=1.4.5"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
   search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');

</script><script type="text/javascript" color="100,99,98" opacity="0.7" zindex="-1" count="150" src="//lib.baomitu.com/canvas-nest.js/2.0.3/canvas-nest.umd.js"></script><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.4.5"></script><script type="text/javascript" src="/js/smartresize.js?v=1.4.5"></script></div></body></html>